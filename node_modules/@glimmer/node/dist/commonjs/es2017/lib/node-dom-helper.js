"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _runtime = require("@glimmer/runtime");

var _document = _interopRequireDefault(require("@simple-dom/document"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class NodeDOMTreeConstruction extends _runtime.DOMTreeConstruction {
  constructor(doc) {
    super(doc || (0, _document.default)());
  } // override to prevent usage of `this.document` until after the constructor


  setupUselessElement() {}

  insertHTMLBefore(parent, reference, html) {
    let raw = this.document.createRawHTMLSection(html);
    parent.insertBefore(raw, reference);
    return new _runtime.ConcreteBounds(parent, raw, raw);
  } // override to avoid SVG detection/work when in node (this is not needed in SSR)


  createElement(tag) {
    return this.document.createElement(tag);
  } // override to avoid namespace shenanigans when in node (this is not needed in SSR)


  setAttribute(element, name, value) {
    element.setAttribute(name, value);
  }

}

exports.default = NodeDOMTreeConstruction;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL25vZGUvbGliL25vZGUtZG9tLWhlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFHYyxNQUFBLHVCQUFBLFNBQUEsNEJBQUEsQ0FBMEQ7QUFFdEUsRUFBQSxXQUFBLENBQUEsR0FBQSxFQUF1QztBQUNyQyxVQUFNLEdBQUcsSUFBVCx3QkFBQTtBQUhvRSxHQUFBLENBTXRFOzs7QUFDVSxFQUFBLG1CQUFtQixHQUFBLENBQUs7O0FBRWxDLEVBQUEsZ0JBQWdCLENBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQW1FO0FBQ2pGLFFBQUksR0FBRyxHQUFHLEtBQUEsUUFBQSxDQUFBLG9CQUFBLENBQVYsSUFBVSxDQUFWO0FBQ0EsSUFBQSxNQUFNLENBQU4sWUFBQSxDQUFBLEdBQUEsRUFBQSxTQUFBO0FBQ0EsV0FBTyxJQUFBLHVCQUFBLENBQUEsTUFBQSxFQUFBLEdBQUEsRUFBUCxHQUFPLENBQVA7QUFab0UsR0FBQSxDQWV0RTs7O0FBQ0EsRUFBQSxhQUFhLENBQUEsR0FBQSxFQUFZO0FBQ3ZCLFdBQU8sS0FBQSxRQUFBLENBQUEsYUFBQSxDQUFQLEdBQU8sQ0FBUDtBQWpCb0UsR0FBQSxDQW9CdEU7OztBQUNBLEVBQUEsWUFBWSxDQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFvRDtBQUM5RCxJQUFBLE9BQU8sQ0FBUCxZQUFBLENBQUEsSUFBQSxFQUFBLEtBQUE7QUFDRDs7QUF2QnFFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm91bmRzLCBPcHRpb24gfSBmcm9tICdAZ2xpbW1lci9pbnRlcmZhY2VzJztcbmltcG9ydCB7IENvbmNyZXRlQm91bmRzLCBET01UcmVlQ29uc3RydWN0aW9uIH0gZnJvbSAnQGdsaW1tZXIvcnVudGltZSc7XG5pbXBvcnQgY3JlYXRlSFRNTERvY3VtZW50IGZyb20gJ0BzaW1wbGUtZG9tL2RvY3VtZW50JztcbmltcG9ydCB7IFNpbXBsZURvY3VtZW50LCBTaW1wbGVFbGVtZW50LCBTaW1wbGVOb2RlIH0gZnJvbSAnQHNpbXBsZS1kb20vaW50ZXJmYWNlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9kZURPTVRyZWVDb25zdHJ1Y3Rpb24gZXh0ZW5kcyBET01UcmVlQ29uc3RydWN0aW9uIHtcbiAgcHJvdGVjdGVkIGRvY3VtZW50ITogU2ltcGxlRG9jdW1lbnQ7IC8vIEhpZGVzIHByb3BlcnR5IG9uIGJhc2UgY2xhc3NcbiAgY29uc3RydWN0b3IoZG9jOiBPcHRpb248U2ltcGxlRG9jdW1lbnQ+KSB7XG4gICAgc3VwZXIoZG9jIHx8IGNyZWF0ZUhUTUxEb2N1bWVudCgpKTtcbiAgfVxuXG4gIC8vIG92ZXJyaWRlIHRvIHByZXZlbnQgdXNhZ2Ugb2YgYHRoaXMuZG9jdW1lbnRgIHVudGlsIGFmdGVyIHRoZSBjb25zdHJ1Y3RvclxuICBwcm90ZWN0ZWQgc2V0dXBVc2VsZXNzRWxlbWVudCgpIHt9XG5cbiAgaW5zZXJ0SFRNTEJlZm9yZShwYXJlbnQ6IFNpbXBsZUVsZW1lbnQsIHJlZmVyZW5jZTogT3B0aW9uPFNpbXBsZU5vZGU+LCBodG1sOiBzdHJpbmcpOiBCb3VuZHMge1xuICAgIGxldCByYXcgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZVJhd0hUTUxTZWN0aW9uIShodG1sKTtcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHJhdywgcmVmZXJlbmNlKTtcbiAgICByZXR1cm4gbmV3IENvbmNyZXRlQm91bmRzKHBhcmVudCwgcmF3LCByYXcpO1xuICB9XG5cbiAgLy8gb3ZlcnJpZGUgdG8gYXZvaWQgU1ZHIGRldGVjdGlvbi93b3JrIHdoZW4gaW4gbm9kZSAodGhpcyBpcyBub3QgbmVlZGVkIGluIFNTUilcbiAgY3JlYXRlRWxlbWVudCh0YWc6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgfVxuXG4gIC8vIG92ZXJyaWRlIHRvIGF2b2lkIG5hbWVzcGFjZSBzaGVuYW5pZ2FucyB3aGVuIGluIG5vZGUgKHRoaXMgaXMgbm90IG5lZWRlZCBpbiBTU1IpXG4gIHNldEF0dHJpYnV0ZShlbGVtZW50OiBTaW1wbGVFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=